<div class="task-create">
    Create new task
    <form name="taskcreate" ng-submit="create()">
        <div class="form-group">
            <label>Title</label>
            <input class="form-control" type="text" ng-model="task.title" required/>
        </div>
        <div class="form-group">
            <label>Project</label>
            <select class="form-control" ng-model="task.project"
                    ng-options="project._id as project.title for project in projects" required></select>
        </div>
        <div class="form-group">
            <label>Tags</label>
            <input class="form-control" type="text" ng-model="task.tags"/>
        </div>
        <div class="form-group">
            <label>Due</label>
            <input ui-date ng-model="task.due">
        </div>
        <div class="buttons">
            <button type="submit" class="btn">Create</button>
            <button class="btn" ng-click="closeThisDialog()">Cancel</button>
        </div>
    </form>

    <div ng-show="task.discussion">
        Or search for an existing task
        <form name="tasksearch" ng-submit="search()">
            <div class="form-group">
                <input class="form-control" type="text" ng-model="term">
            </div>
            <div class="buttons">
                <button type="submit" class="btn">Search</button>
            </div>
            <div class="list-table">
                <table class="tasks">
                    <tbody>
                        <tr data-ng-repeat="task in searchResults"
                            icu-list-row
                            data="{ task: task, index: $index }"
                            type="task"
                            ng-click="select(task)">
                        </tr>
                    </tbody>
                </table>
            </div>
        </form>
    </div>
</div>
